
## Caching

The second example is caching. On your website, you may have contents that are rarely updated, like your JavaScript or CSS files, content that is sometimes updated, like pages, and content that is updated all the time, like the front page or news section of an information site. Both servers and clients can tell the other party to cache, literally store for later, any files they send through HTTP. Once cached, these files will be used instead of downloading fresh ones, and this dramatically speeds up the site and the performance. You can provide specific instructions on how long to cache the files for and under what circumstances the cached files can be overwritten. All of this is done using the cache control header and various directives. These directives include max-age, no-cache, no-store, public, private and more. Most commonly Cache-Control is used to store files in the browser to speed up future visits to the same address by storing the files and then just using the stored files instead of downloading new ones. This is done using the Cache-Control: max-age directive. In this example the server says, please store this file without checking with me and use it instead of coming to me to download a fresh copy for one year. That would be 31 million, 536 thousand seconds. The browser will now hold onto the file for up to a year unless the user actively goes in and clears the cache for the browser. If a file is cached like this, the server won't be able to force the browser to update the file for one year. Meaning, any updates will not be seen by the visitor. This is why when you update a CSS or JavaScript file on a server, you sometimes can't see the new version in the browser and you have to keep rebooting the browser and eventually clear the cache. To avoid this problem you can either, tell the browser to check if the server has a newer version of the file using no cache on individual assets or on the entire domain, or explicitly tell the browser to not cache certain files, or reduce the max-age to something shorter, like a day or 30 days. Or you can use a technique called Cache Busting, where each file has a unique file name, therefore, anytime you upload a new version of a file, you're actually uploading a new unique file name and that new unique file is stored in the visitors browser. HTTP caching deserves an entire course of its own. You can learn more about it in my course HTTP Two, Developing For Performance, and find further information on MDM and on developers.google.com.
